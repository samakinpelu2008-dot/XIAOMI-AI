<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T COINS Trading Simulator</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }
  body { display: flex; flex-direction: column; height: 100vh; }
  #graph-container { height: 40%; background: #111; position: relative; }
  #coin-cards { height: 60%; overflow-y: auto; background: #222; padding: 10px; display: flex; flex-direction: column; gap: 10px; }
  .coin-card { background: #333; padding: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
  .coin-name { font-weight: bold; color: #fff; }
  .coin-change { font-weight: bold; }
  .up { color: #0f0; }
  .down { color: #f00; }
  canvas { width: 100%; height: 100%; display: block; }
</style>
</head>
<body>

<!-- Top Graph -->
<div id="graph-container">
  <canvas id="coinGraph"></canvas>
</div>

<!-- Coin Cards -->
<div id="coin-cards"></div>

<script>
const coins = [
  { name: "Alpha", color: "#ff5733" },
  { name: "Beta", color: "#33ff57" },
  { name: "Rho", color: "#3357ff" },
  { name: "Mendel", color: "#ff33aa" },
  { name: "Theta", color: "#ffaa33" },
  { name: "Delta", color: "#33aaff" },
  { name: "Epsilon", color: "#aa33ff" },
  { name: "Zeta", color: "#33ffaa" },
  { name: "Psi", color: "#ff3333" },
  { name: "Omega", color: "#33ffff" },
];

let selectedCoin = coins[0];

// Coin Prices (simulate movement)
let coinData = {};
coins.forEach(c => {
  coinData[c.name] = Array.from({length: 50}, () => 100 + Math.random()*20 - 10);
});

// Render Coin Cards
const cardContainer = document.getElementById("coin-cards");
function renderCards() {
  cardContainer.innerHTML = "";
  coins.forEach(c => {
    const change = ((coinData[c.name].slice(-1)[0] - coinData[c.name].slice(-2)[0]) || 0).toFixed(2);
    const upDown = change >= 0 ? "up" : "down";
    const card = document.createElement("div");
    card.className = "coin-card";
    card.innerHTML = `
      <span class="coin-name">${c.name}</span>
      <span class="coin-change ${upDown}">${change}%</span>
    `;
    card.onclick = () => { selectedCoin = c; };
    cardContainer.appendChild(card);
  });
}

// Graph Setup
const canvas = document.getElementById("coinGraph");
const ctx = canvas.getContext("2d");

function drawGraph() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.beginPath();
  const data = coinData[selectedCoin.name];
  const step = canvas.width / (data.length - 1);
  data.forEach((p, i) => {
    const y = canvas.height - ((p - 80) / 40 * canvas.height);
    const x = i * step;
    if(i === 0) ctx.moveTo(x, y);
    else ctx.lineTo(x, y);
  });
  ctx.strokeStyle = selectedCoin.color;
  ctx.lineWidth = 2;
  ctx.stroke();
}

// Simulate live data movement
function updateData() {
  coins.forEach(c => {
    let last = coinData[c.name].slice(-1)[0];
    let change = (Math.random() - 0.5) * 2; // Â±1% move
    let newVal = last + change;
    coinData[c.name].push(newVal);
    if(coinData[c.name].length > 50) coinData[c.name].shift();
  });
  renderCards();
  drawGraph();
}

setInterval(updateData, 500); // update every 0.5s

// Initial render
renderCards();
drawGraph();
</script>
</body>
</html>
